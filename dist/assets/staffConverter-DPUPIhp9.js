function $(n){const o=new Map;return n.forEach(e=>{const s=f(e.weekday),c=`${e.name.toLowerCase()}-${s}`;if(o.has(c)){const t=o.get(c),r=t.workHours||"",u=e.workHours||"";let a="";r&&u&&r!==u?a=`${r} | ${k(e.sourceFile)} ${u}`:a=r||u;const i=t.comments||"",m=g(e);let l="";i&&m?l=`${i} | ${m}`:l=i||m,t.workHours=a,t.comments=l}else{const t={id:w(e),name:`${e.name} (${s})`,workHours:e.workHours||"",comments:g(e),isCustom:!1};o.set(c,t)}}),Array.from(o.values())}function f(n){return{Mån:"Måndag",Tis:"Tisdag",Ons:"Onsdag",Tor:"Torsdag",Fre:"Fredag",Lör:"Lördag",Sön:"Söndag"}[n]||n}function w(n){const o=Date.now(),e=Math.random().toString(36).substr(2,9);return`staff-${n.name.toLowerCase().replace(/[^a-z]/g,"").substr(0,4)}-${n.weekday.toLowerCase()}-${o}-${e}`}function g(n){const o=[],e=k(n.sourceFile),s=h(n.role);return o.push(`${e} ${s}`),n.comments&&o.push(n.comments),n.extraInfo&&o.push(`Extra: ${n.extraInfo}`),o.join(" | ")}function k(n){return n==="op"?"[OP]":"[ANE]"}function h(n){switch(n){case"op_ssk":return"SSK";case"op_usk":return"USK";case"ane_ssk":return"SSK";case"ane_usk":return"USK";default:return""}}function y(n){const o={};return n.forEach(e=>{o[e.weekday]||(o[e.weekday]=[]),o[e.weekday].push(e)}),o}function S(n){return{totalEntries:n.length,uniqueStaff:new Set(n.map(e=>e.name)).size,bySource:{op:n.filter(e=>e.sourceFile==="op").length,ane:n.filter(e=>e.sourceFile==="ane").length},byRole:{op_ssk:n.filter(e=>e.role==="op_ssk").length,op_usk:n.filter(e=>e.role==="op_usk").length,ane_ssk:n.filter(e=>e.role==="ane_ssk").length,ane_usk:n.filter(e=>e.role==="ane_usk").length},weekdays:Object.keys(y(n))}}export{$ as convertParsedStaffToMembers,S as getParsedStaffSummary,y as groupParsedStaffByWeekday};
